<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard SIG Pariwisata Kabupaten Rembang</title>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --rembang-red: #e11d48;
            --dark-navy: #0f172a;
            --card-bg: #1e293b;
            --text-light: #f8fafc;
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--dark-navy);
            color: var(--text-light);
            margin: 0;
        }

        header {
            background: var(--card-bg);
            padding: 25px;
            border-bottom: 5px solid var(--rembang-red);
            text-align: center;
        }

        .container {
            display: grid;
            grid-template-columns: 380px 1fr;
            gap: 20px;
            padding: 20px;
        }

        .card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.05);
        }

        h2, h3 { color: var(--rembang-red); margin-top: 0; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 10px; }

        #map {
            height: 500px;
            width: 100%;
            border-radius: 12px;
            border: 2px solid var(--rembang-red);
        }

        .stats-box {
            display: flex;
            justify-content: space-between;
            background: rgba(225, 29, 72, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .summary-text { font-size: 0.85rem; line-height: 1.6; opacity: 0.9; }

        .chart-container { height: 250px; }

        footer { text-align: center; padding: 20px; font-size: 0.8rem; opacity: 0.6; }

        @media (max-width: 1000px) { .container { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

<header>
    <h1 style="margin:0; font-size: 1.8rem;">Sistem Informasi Geografis (SIG) Pariwisata</h1>
    <p style="margin:5px 0 0;">Pemetaan Pusat Pariwisata Kabupaten Rembang 2024‚Äì2025</p>
</header>

<div class="container">
    <div class="sidebar">
        <div class="card">
            <h3>üìä Statistik Kunjungan</h3>
            <div class="stats-box">
                <div>Total 2024: <br><strong>305.688</strong></div>
                <div>Lokasi: <br><strong>14 Kec.</strong></div>
            </div>
            <div class="chart-container">
                <canvas id="docChart"></canvas>
            </div>
        </div>

        <div class="card">
            <h3>üìñ Abstrak Penelitian</h3>
            <p class="summary-text">
                Penelitian ini merancang SIG guna memetakan persebaran pariwisata menggunakan metode deskriptif & analisis spasial <strong>QGIS</strong>. Data diperoleh dari hasil inventarisasi desa wisata per Oktober 2024 dan 2025.
            </p>
        </div>
    </div>

    <div class="main-content">
        <div class="card">
            <h3>üó∫Ô∏è Peta Distribusi (Wilayah Rembang)</h3>
            <div id="map"></div>
        </div>

        <div class="card">
            <h3>üìù Analisis Spasial & Kesimpulan</h3>
            <p class="summary-text">
                Berdasarkan analisis, pusat pariwisata di Kabupaten Rembang tersebar merata. Kawasan pesisir (Kragan, Sluke, Lasem) didominasi wisata bahari, sementara daratan (Sale, Gunem, Sulang) fokus pada wisata alam & budaya. 
                <strong>Kesimpulan:</strong> SIG mampu menyajikan informasi secara visual dan sistematis untuk perencanaan daerah.
            </p>
        </div>
    </div>
</div>

<footer>
    Disusun oleh: Fauzun Dwi Saputra | Prodi Informatika - FTI UPGRIS
</footer>

<script>
    // 1. Inisialisasi Peta
    const map = L.map('map').setView([-6.71, 111.34], 12);

    L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
        attribution: '&copy; OpenStreetMap contributors &copy; CARTO'
    }).addTo(map);

    // 2. Poligon Merah Wilayah Rembang (Manual)
    const rembangRedArea = L.polygon([
        [-6.65, 111.25], [-6.65, 111.45], [-6.78, 111.45], [-6.78, 111.25]
    ], {
        color: '#e11d48',
        fillColor: '#e11d48',
        fillOpacity: 0.4,
        weight: 3
    }).addTo(map);
    
    rembangRedArea.bindPopup("<strong>Kabupaten Rembang</strong><br>Pusat Pariwisata Terintegrasi");

    // 3. Tambahkan Marker Titik Wisata (Sesuai Contoh di Word)
    const points = [
        {name: "Pantai Karangjahe", lat: -6.685, lng: 111.385},
        {name: "Masjid Lasem", lat: -6.694, lng: 111.451},
        {name: "Pasir Putih Wates", lat: -6.702, lng: 111.265}
    ];

    points.forEach(p => {
        L.circleMarker([p.lat, p.lng], {
            radius: 7, fillColor: "#fff", color: "#e11d48", weight: 2, fillOpacity: 1
        }).addTo(map).bindPopup(p.name);
    });

    // 4. Diagram Berdasarkan Data Kunjungan (Chart.js)
    const ctx = document.getElementById('docChart').getContext('2d');
    new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Karangjahe', 'P. Wates', 'Balongan'],
            datasets: [{
                label: 'Kunjungan (2024)',
                data: [88450, 53606, 37040],
                backgroundColor: '#e11d48',
                borderRadius: 5
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { labels: { color: '#fff' } } },
            scales: {
                y: { ticks: { color: '#fff' }, grid: { color: 'rgba(255,255,255,0.1)' } },
                x: { ticks: { color: '#fff' } }
            }
        }
    });
</script>

</body>
</html>